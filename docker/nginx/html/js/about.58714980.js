"use strict";(self["webpackChunktreehole"]=self["webpackChunktreehole"]||[]).push([[443],{9548:function(t,e,s){s.d(e,{Z:function(){return d}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"detailNote"},[e("h2",[t._v(t._s(t.myNote.title))]),e("div",{staticClass:"msg"},[e("span",[t._v("作者名"+t._s(t.myNote.author_name))]),e("span",[t._v("2023-1-12发布")]),e("span",[t._v("观看量"+t._s(t.myNote.visit))])]),e("div",{staticClass:"container"},[t._v(t._s(t.myNote.content))]),e("div",{staticClass:"imgListBox"},t._l(t.imgList,(function(t,s){return e("img",{key:s,attrs:{src:t,alt:""}})})),0),e("div",{staticClass:"last"},[e("div",{staticClass:"author"},[e("div",{staticClass:"avatar"},[e("img",{attrs:{src:t.src,alt:""}})]),e("div",{staticClass:"sexBox"},[t._v(t._s(t.changeSexType(t.myNote.author_sex)))]),e("div",[t._v(t._s(t.myNote.author_name))])]),e("div",{staticClass:"support"},[t._v(" "+t._s(t.myNote.approve)+" "),e("svg",{class:1==t.isSupport?"icon active":"icon",attrs:{"aria-hidden":"true"},on:{click:t.updateSupport}},[e("use",{attrs:{"xlink:href":"#icon-dianzan"}})]),e("svg",{staticClass:"icon",class:-1==t.isSupport?"active":"",attrs:{"aria-hidden":"true"},on:{click:t.updateAgainst}},[e("use",{attrs:{"xlink:href":"#icon-002cai-1"}})]),t._v(" "+t._s(t.myNote.against)+" ")])]),e("div",{staticClass:"comment"},[e("div",{staticClass:"commentMsg"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.comment,expression:"comment"}],attrs:{type:"text",placeholder:"留下你想说的话吧"},domProps:{value:t.comment},on:{input:function(e){e.target.composing||(t.comment=e.target.value)}}}),e("button",{on:{click:t.sendComment}},[t._v("提交")])]),e("div",{staticClass:"commentList"},t._l(t.commentList,(function(s,i){return e("div",{key:i,staticClass:"commentItem"},[e("div",{staticClass:"userMsg"},[e("img",{attrs:{src:t.baseUrl+s.usericon,alt:""}}),e("span",[t._v(t._s(s.username))]),e("div",{staticClass:"commentContent"},[t._v(t._s(s.content))])]),e("div",{staticClass:"commentItemRight"},[e("span",[t._v(t._s(s.creare_time))]),e("button",{on:{click:function(e){return t.deleteComment(s.comment_identity,s.note_identity,i)}}},[t._v("删除评论")])])])})),0)])])},a=[],o=(s(7658),s(2884)),n=s(3822),r={name:"detailNote",props:["note","test"],data(){return{isSupport:0,myNote:this.note,imgList:[],src:"",urls:"",imgListBox:[],comment:"",token:"",note_identity:"",commentList:[]}},methods:{async updateSupport(){let t=localStorage.getItem("token");this.myNote.approve=1*this.myNote.approve;let e="";1!=this.isSupport?(e=this.isSupport,-1==this.isSupport&&(this.myNote.against=1*this.myNote.against-1),this.isSupport=1,this.myNote.approve+=1):(e=this.isSupport,this.isSupport=0,this.myNote.approve-=1);let s={flag:this.isSupport+"",note_identity:this.note_identity+"",voted:e+""},i=await(0,o._J)(s,t);console.log(i)},async updateAgainst(){let t=localStorage.getItem("token");this.myNote.against=1*this.myNote.against;let e="";-1!=this.isSupport?(e=this.isSupport,1==e&&(this.myNote.approve=1*this.myNote.approve-1),this.isSupport=-1,this.myNote.against+=1):(e=this.isSupport,this.isSupport=0,this.myNote.against-=1);let s={flag:this.isSupport+"",note_identity:this.note_identity+"",voted:e+""};await(0,o._J)(s,t)},async sendComment(){if(""==this.comment)return alert("评论不能为空");let t={content:this.comment,note_identity:this.note_identity+""};console.log(t);let e=await(0,o.Yr)(t,this.token);console.log(e),this.comment="",this.commentList.push(e.data.data)},async deleteComment(t,e,s){if(!window.confirm("确认删除吗"))return;this.commentList.splice(s,1);let i={comment_identity:t+"",note_identity:e+""},a=await(0,o.Eq)(i,this.token);console.log(a)},changeSexType(t){return 1==t?"男":0==t?"保密":"女"}},computed:{...(0,n.rn)(["baseUrl"])},async mounted(){let t=localStorage.getItem("token");this.token=t,console.log("note的内容是",this.note);let e={};this.test?(this.myNote=this.note,console.log("mynote的内容啥",this.myNote),e={note_identity:this.myNote.note_identity}):e={note_identity:this.myNote.note_basic.identity};let s=await(0,o.WQ)(e,t);console.log(s),this.myNote=s.data.data,this.isSupport=this.myNote.isvoted,this.note_identity=this.myNote.note_identity,this.urls=this.myNote.urls,this.src=this.baseUrl+this.myNote.author_icon;let i=this.urls.split(","),a=[];i.forEach((t=>{a.push(this.baseUrl+t)})),this.imgList=a;let n={note_identity:this.note_identity},r=await(0,o.Ef)(n,this.token);this.commentList=r.data.data.commentInfo,console.log(this.commentList)}},l=r,c=s(1001),u=(0,c.Z)(l,i,a,!1,null,null,null),d=u.exports},5399:function(t,e,s){s.r(e),s.d(e,{default:function(){return l}});var i=function(){var t=this;t._self._c;return t._m(0)},a=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"about"},[e("h1",[t._v("This is an about page")])])}],o=s(1001),n={},r=(0,o.Z)(n,i,a,!1,null,null,null),l=r.exports},1067:function(t,e,s){s.r(e),s.d(e,{default:function(){return m}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"article"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],attrs:{type:"text",placeholder:"标题"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}}),e("div",{staticClass:"articleImg"},[t._l(t.imgList,(function(s,i){return e("div",{key:i,staticClass:"imgList"},[e("img",{attrs:{src:s,alt:""}}),e("svg",{directives:[{name:"show",rawName:"v-show",value:t.isdelete,expression:"isdelete"}],staticClass:"icon",attrs:{"aria-hidden":"true"},on:{click:function(e){return t.deleteImg(i)}}},[e("use",{attrs:{"xlink:href":"#icon-guanbi1"}})])])})),e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"},on:{click:t.selectImg}},[e("use",{attrs:{"xlink:href":"#icon-image"}})]),e("div"),e("input",{ref:"file",staticClass:"sendImg",attrs:{type:"file"},on:{change:t.addImg}})],2),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],attrs:{name:"",id:"",cols:"30",rows:"10",placeholder:"请输入内容"},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}}),e("button",{on:{click:t.send}},[t._v("提交")])])},a=[],o=(s(7658),s(1441)),n=s(2884),r=s(3822),l={data(){return{imgList:[],srcList:[],content:"",title:"",isdelete:!1,urls:"",token:""}},computed:{...(0,r.rn)([""])},methods:{deleteImg(t){this.imgList.splice(t,1),thi.srcList.splice(t,1)},async send(){if(!this.isdelete)return alert("网络有点慢，稍后再试");this.urls=this.srcList.join(","),console.log(this.urls);let t=this.token,e={title:this.title,content:this.content,urls:this.urls};console.log(e);let s=(0,o.Z)(e);if(""!=s)return alert(s);let i=await(0,n.kT)(e,t);console.log(i),1e3==i.data.code&&(alert("发布成功"),this.content="",this.title="",this.imgList=[])},selectImg(){this.$refs.file.click()},async addImg(){let t=this.$refs.file.files[0];console.log(this.$refs.file.files),this.imgList.push(URL.createObjectURL(t));let e=this.token,s={type:"2",file:t};this.isdelete=!1;let i=await(0,n.jO)(s,e);console.log(i),1e3==i.data.code&&(this.isdelete=!0,this.srcList.push(i.data.data.url),console.log(this.srcList))}},mounted(){this.token=localStorage.getItem("token")}},c=l,u=s(1001),d=(0,u.Z)(c,i,a,!1,null,"02afa6d0",null),m=d.exports},1260:function(t,e,s){s.r(e),s.d(e,{default:function(){return c}});var i=function(){var t=this;t._self._c;return t._m(0)},a=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"board"},[e("div",[t._v("留言板：写下你想说的话吧")])])}],o={},n=o,r=s(1001),l=(0,r.Z)(n,i,a,!1,null,null,null),c=l.exports},4805:function(t,e,s){s.r(e),s.d(e,{default:function(){return c}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"chatRoom"},[t._m(0),e("div",{ref:"msgList",staticClass:"msgList"},t._l(t.msgList,(function(s,i){return e("div",{key:i},[1==s.type?e("div",{staticClass:"myMsg"},[e("div",{staticClass:"nickname"},[t._v(t._s(s.username))]),e("div",{staticClass:"right"},[e("div",{staticClass:"msgBox"},[t._v(t._s(s.msg))]),e("div",{staticClass:"avatar"},[t._v("头像")])]),e("div")]):t._e(),2==s.type?e("div",{staticClass:"friendMsg"},[e("div",{staticClass:"nickname"},[t._v(t._s(s.username))]),e("div",{staticClass:"left"},[e("div",{staticClass:"avatar"},[t._v("头像")]),e("div",{staticClass:"msgBox"},[t._v(t._s(s.msg))])])]):t._e()])})),0),e("div",{staticClass:"Chatboard"},[e("div",{staticClass:"more"},[e("svg",{staticClass:"icon",class:-1==t.isSupport?"active":"",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-biaoqing"}})])]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.msgContent,expression:"msgContent"}],attrs:{name:"",id:"",cols:"30",rows:"10"},domProps:{value:t.msgContent},on:{input:function(e){e.target.composing||(t.msgContent=e.target.value)}}}),e("button",{staticClass:"msgSendBtn",on:{click:t.sendMsg}},[t._v("发送")])])])},a=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"chatRoomName"},[t._v("聊天室("),e("span",[t._v("99")]),t._v(")")])}],o=(s(7658),{data(){return{msgList:[{type:1,msg:"晚上好啊",username:"www",avartar:"https://img0.baidu.com/it/u=2042947613,4107697083&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500"},{type:1,msg:"徐志胜本科就读山东理工大学，简称“山理工”，在齐鲁大地拥有很高的知名度。泱泱齐风，悠悠韶韵。山理工坐落在齐文化发祥地淄博，2001年由山东工程学院和淄博学院合并组建而成",username:"www",avartar:"https://img0.baidu.com/it/u=2042947613,4107697083&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500"},{type:1,msg:"徐志胜本科就读山东理工大学，简称“山理工”，在齐鲁大地拥有很高的知名度。泱泱齐风，悠悠韶韵。山理工坐落在齐文化发祥地淄博，2001年由山东工程学院和淄博学院合并组建而成",username:"www",avartar:"https://img0.baidu.com/it/u=2042947613,4107697083&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500"},{type:2,msg:"晚上好啊",username:"咕咕",avartar:"https://img0.baidu.com/it/u=2042947613,4107697083&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500"}],msgContent:""}},methods:{sendMsg(){let t={type:1,msg:this.msgContent,username:"www"};this.msgList.push(t),this.msgContent=""}},updated(){this.$nextTick((()=>{this.$refs.msgList.scrollTop=this.$refs.msgList.scrollHeight}))},mounted(){let t=localStorage.getItem("token");this.$refs.msgList.scrollTop=this.$refs.msgList.scrollHeight;var e=new WebSocket("ws://localhost:8080/api/v1/chat/websocket/message",t);console.log(e),e.onopen=function(){e.send("Hello Server!"),alert("连接成功")},e.onerror=function(){setMessageInnerHTML("WebSocket连接发生错误"),console.log(666)},e.onopen=function(){console.log(555)},e.onmessage=function(t){setMessageInnerHTML(t.data),console.log(666)},e.onclose=function(){console.log(5555)}}}),n=o,r=s(1001),l=(0,r.Z)(n,i,a,!1,null,"20c645fe",null),c=l.exports},5864:function(t,e,s){s.r(e),s.d(e,{default:function(){return d}});var i=function(){var t=this,e=t._self._c;return e("div",[t.isDetail?t._e():e("div",[e("div",{staticClass:"type"},[e("button",{staticClass:"hotBtn",on:{click:t.getNoteByHot}},[t._v("按热度")]),e("button",{staticClass:"timeBtn",on:{click:t.getNoteByTime}},[t._v("按时间")])]),e("div",{staticClass:"noteList"},t._l(t.noteList,(function(s,i){return e("div",{key:i,staticClass:"noteItem"},[e("h2",[t._v(t._s(s.title))]),e("div",{staticClass:"time"},[t._v(t._s(s.create_time))]),e("div",{staticClass:"noteContent"},[t._v(t._s(s.content))]),e("div",[e("button",{on:{click:function(e){return t.changIsDetail(i)}}},[t._v("查看全文")])])])})),0)]),t.isDetail?e("div",[e("div",[e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"},on:{click:t.changIsDetail}},[e("use",{attrs:{"xlink:href":"#icon-fanhui"}})])]),e("div",[e("detailNote",{attrs:{note:t.noteList[t.nowI],test:!0}})],1)]):t._e()])},a=[],o=s(9548),n=s(2884),r={components:{detailNote:o.Z},data(){return{noteList:[],isDetail:!1,nowI:-1}},methods:{changIsDetail(t){this.nowI=t,console.log(t),this.isDetail=!this.isDetail},async getNoteByHot(){let t={type:"1"},e=await(0,n.w8)(t);this.noteList=e.data.data.noteInfo,console.log(this.noteList)},async getNoteByTime(){let t={type:"2"},e=await(0,n.w8)(t);this.noteList=e.data.data.noteInfo,console.log(this.noteList)}}},l=r,c=s(1001),u=(0,c.Z)(l,i,a,!1,null,null,null),d=u.exports},1200:function(t,e,s){s.r(e),s.d(e,{default:function(){return _}});var i=function(){var t=this,e=t._self._c;return e("div",[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.isDetail&&!t.isModify,expression:"(!isDetail&&!isModify)"}],staticClass:"myNotes"},[e("div",{directives:[{name:"show",rawName:"v-show",value:0!=t.myNotesTotal,expression:"myNotesTotal != 0"}],staticClass:"noteMsg"},[e("div",{staticClass:"showTotal"},[t._v("您一共写了"+t._s(t.myNotesTotal)+"篇文章!")]),e("div",{staticClass:"notelist"},t._l(t.noteList,(function(s,i){return e("div",{key:i,staticClass:"note"},[e("div",{staticClass:"left"},[e("h2",[t._v(t._s(s.note_basic.title))]),e("div",{staticClass:"time"},[t._v(t._s(t.changeTimeType(s.CreatedAt)))]),e("div",{staticClass:"noteContent"},[t._v(t._s(s.note_basic.content))])]),e("div",{staticClass:"right"},[e("button",{on:{click:function(e){return t.changeIsDetail(i)}}},[t._v("阅读全文")]),e("button",{staticClass:"modifyBtn",on:{click:t.changeisModify}},[t._v("修改文章")]),e("button",{staticClass:"deleteBtn",on:{click:function(e){return t.goDeleteNote(s.note_identity,i)}}},[t._v("删除文章")])])])})),0)]),e("div",{directives:[{name:"show",rawName:"v-show",value:0==t.myNotesTotal,expression:"myNotesTotal == 0"}],staticClass:"tip"},[t._v("您还没有写过文章呢~赶紧来一篇吧！")])]),t.isDetail?e("div",{staticClass:"detail"},[e("div",[e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"},on:{click:t.changeIsDetail}},[e("use",{attrs:{"xlink:href":"#icon-fanhui"}})])]),e("detailNote",{attrs:{note:t.noteList[t.nowI]}})],1):t._e(),t.isModify?e("div",[e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"},on:{click:t.changeisModify}},[e("use",{attrs:{"xlink:href":"#icon-fanhui"}})]),e("modifyNote",{attrs:{note:t.noteList[t.nowI].note_basic}})],1):t._e()])},a=[],o=s(2884),n=s(3822),r=s(9548),l=function(){var t=this,e=t._self._c;return e("div",{staticClass:"article"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],attrs:{type:"text",placeholder:"标题"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}}),e("div",{staticClass:"articleImg"},[t._l(t.imgList,(function(s,i){return e("div",{key:i,staticClass:"imgList"},[e("img",{attrs:{src:s,alt:""}}),e("svg",{directives:[{name:"show",rawName:"v-show",value:t.isdelete,expression:"isdelete"}],staticClass:"icon",attrs:{"aria-hidden":"true"},on:{click:function(e){return t.deleteImg(i)}}},[e("use",{attrs:{"xlink:href":"#icon-guanbi1"}})])])})),e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"},on:{click:t.selectImg}},[e("use",{attrs:{"xlink:href":"#icon-image"}})]),e("div"),e("input",{ref:"file",staticClass:"sendImg",attrs:{type:"file"},on:{change:t.addImg}})],2),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],attrs:{name:"",id:"",cols:"30",rows:"10",placeholder:"请输入内容"},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}}),e("button",{on:{click:t.goModifyNote}},[t._v("提交")])])},c=[],u=(s(7658),s(1441)),d={props:["note"],data(){return{imgList:[],srcList:[],urls:"",content:"",title:"",isdelete:!1,token:"",myNote:"",note_identity:""}},computed:{...(0,n.rn)(["baseUrl"])},methods:{deleteImg(t){this.imgList.splice(t,1),thi.srcList.splice(t,1)},async send(){if(!this.isdelete)return alert("网络有点慢，稍后再试");this.urls=this.srcList.join(","),console.log(this.urls);let t=this.token,e={title:this.title,content:this.content,urls:this.urls};console.log(e);let s=(0,u.Z)(e);if(""!=s)return alert(s);let i=await(0,o.kT)(e,t);console.log(i)},selectImg(){this.$refs.file.click()},async addImg(){let t=this.$refs.file.files[0];console.log(this.$refs.file.files),this.imgList.push(URL.createObjectURL(t));let e=this.token,s={type:"2",file:t};this.isdelete=!1;let i=await(0,o.jO)(s,e);console.log(i),1e3==i.data.code&&(this.isdelete=!0,this.srcList.push(i.data.data.url),console.log(this.srcList))},async goModifyNote(){this.urls=this.srcList.join(",");let t={content:this.content,note_identity:this.note_identity,title:this.title,urls:this.urls};console.log(t);let e=await(0,o.Gh)(t,this.token);console.log(e),1e3==e.data.code&&(alert("修改成功"),this.content="",this.title="",this.imgList=[],this.urls="")}},mounted(){this.token=localStorage.getItem("token"),this.myNote=this.note,console.log("修改文章",this.myNote),this.title=this.myNote.title,this.content=this.myNote.content,this.note_identity=this.myNote.identity,this.urls=this.myNote.urls,this.srcList=this.urls.split(","),console.log("this.srcList",this.srcList),this.srcList.forEach((t=>{this.imgList.push(this.baseUrl+t)})),console.log(this.imgList),this.isdelete=!0}},m=d,h=s(1001),v=(0,h.Z)(m,l,c,!1,null,"7d397411",null),g=v.exports,p={components:{detailNote:r.Z,modifyNote:g},data(){return{isDetail:!1,isModify:!1,token:"",nowI:0,noteList:[{note_basic:{title:"1111",content:"sdfdsfdasfafa"}},{note_basic:{title:"2222",content:"sdfdsfdasfafa"}}],myNotesTotal:4}},computed:{...(0,n.rn)(["baseUrl"])},methods:{changeTimeType(t){let e=t.split("T"),s=e[0],i=e[1].split(".")[0];return s=s+"/"+i,s},async goDeleteNote(t,e){if(!window.confirm("确认删除吗"))return;console.log(t,e);let s=localStorage.getItem("token"),i={note_identity:t},a=await(0,o.f_)(i,s);console.log(a),this.noteList.splice(e,1)},changeisModify(){this.isModify=!this.isModify},changeIsDetail(t){this.nowI="number"===typeof t?t:0,this.isDetail=!this.isDetail}},async mounted(){this.token=localStorage.getItem("token");let t={page:"1",size:"10"},e=this.token,s=await(0,o.eT)(t,e);if(console.log(s),1e3==s.data.code){let t=s.data.data;this.myNotesTotal=t.count,this.noteList=t.noteInfo,this.noteList.reverse()}console.log("noteList",this.noteList)}},f=p,w=(0,h.Z)(f,i,a,!1,null,null,null),_=w.exports},7869:function(t,e,s){s.r(e),s.d(e,{default:function(){return f}});var i=function(){var t=this,e=t._self._c;return e("div",[e("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowDetail,expression:"isShowDetail"}]},[e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"},on:{click:t.changeIsShowDetail}},[e("use",{attrs:{"xlink:href":"#icon-fanhui"}})])]),t.isShowDetail?t._e():e("div",{staticClass:"notes"},[e("div",{staticClass:"search"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],attrs:{type:"text",placeholder:"请输入关键字"},domProps:{value:t.keyword},on:{input:function(e){e.target.composing||(t.keyword=e.target.value)}}}),e("button",{on:{click:t.sendKeyword}},[t._v("搜索")])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.showNoNote,expression:"showNoNote"}],staticClass:"tip"},[t._v("没有找到相关的帖子哦")]),t.showNoNote?t._e():e("div",{staticClass:"noteList"},t._l(t.noteList,(function(s,i){return e("div",{key:i,staticClass:"noteItemBox"},[e("h2",[t._v(t._s(s.title))]),e("div",{staticClass:"time"},[t._v(t._s(s.create_time))]),e("div",{staticClass:"noteContent"},[t._v(t._s(s.content))]),e("button",{on:{click:function(e){return t.changeIsShowDetail(i)}}},[t._v("阅读全文")])])})),0)]),t.isShowDetail?e("div",[e("detailNote",{attrs:{note:t.noteList[t.nowI],test:!0}})],1):t._e()])},a=[],o=s(2884),n=s(9548),r=function(){var t=this,e=t._self._c;return e("div",[t._v(" 页面数据 ")])},l=[],c={},u=c,d=s(1001),m=(0,d.Z)(u,r,l,!1,null,null,null),h=m.exports,v={components:{detailNote:n.Z,noteItem:h},data(){return{keyword:"",noteList:[],isShowDetail:!1,showNoNote:!1,nowI:-1}},methods:{changeIsShowDetail(t){if(!localStorage.getItem("token"))return alert("请先登录！");console.log(t),console.log(this.noteList[t]),this.nowI=t,this.isShowDetail=!this.isShowDetail},async sendKeyword(){localStorage.getItem("token");if(""==this.keyword)return alert("请输入关键字");let t={keyword:this.keyword};this.keyword="";let e=await(0,o.Mp)(t);console.log(e),1e3==e.data.code&&(this.noteList=e.data.data.noteInfo,console.log(this.noteList),console.log(this.noteList.length),0==this.noteList.length?this.showNoNote=!0:this.showNoNote=!1)}}},g=v,p=(0,d.Z)(g,i,a,!1,null,null,null),f=p.exports},1784:function(t,e,s){s.r(e),s.d(e,{default:function(){return c}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"test"},[e("input",{ref:"file",attrs:{type:"file"}}),e("button",{on:{click:t.set}},[t._v("上传")]),e("div",{staticClass:"imgList"},t._l(t.imgList,(function(s,i){return e("div",{key:i,staticClass:"imgBox"},[e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"},on:{click:function(e){return t.deletetImg(i)}}},[e("use",{attrs:{"xlink:href":"#icon-guanbi1"}})]),e("img",{attrs:{src:s,alt:""}})])})),0)])},a=[],o=(s(7658),s(2884),{data(){return{imgList:[]}},methods:{deletetImg(t){console.log(666),this.imgList.splice(t,1)},async set(){console.log(this.$refs.file.files);localStorage.getItem("token");new FormData;var t=this.$refs.file.files[0];console.log(t),this.imgList.push(URL.createObjectURL(t)),console.log(this.imgList)}}}),n=o,r=s(1001),l=(0,r.Z)(n,i,a,!1,null,null,null),c=l.exports},4410:function(t,e,s){s.r(e),s.d(e,{default:function(){return j}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"user"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.userStatus<=2,expression:"userStatus<=2"}]},[e("login",{directives:[{name:"show",rawName:"v-show",value:0==t.userStatus,expression:"userStatus==0"}]}),e("register",{directives:[{name:"show",rawName:"v-show",value:1==t.userStatus,expression:"userStatus==1"}]}),e("retrieve",{directives:[{name:"show",rawName:"v-show",value:2==t.userStatus,expression:"userStatus==2"}]}),e("div",{staticClass:"forgetPassword"},[e("a",{directives:[{name:"show",rawName:"v-show",value:2!=t.userStatus,expression:"userStatus!=2"}],attrs:{href:"#"},on:{click:t.forgetPassword}},[t._v("忘记密码")])])],1),3==t.userStatus?e("div",[e("userMsg")],1):t._e()])},a=[],o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"login"},[e("h2",[t._v("登录")]),e("div",{staticClass:"user"},[e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-yonghu"}})]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{type:"text",placeholder:"用户名"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),e("div",{staticClass:"password"},[e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-suo"}})]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",placeholder:"密码"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),e("div",{staticClass:"repassword"},[e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-suo"}})]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.repassword,expression:"repassword"}],attrs:{type:"password",placeholder:"确认密码"},domProps:{value:t.repassword},on:{input:function(e){e.target.composing||(t.repassword=e.target.value)}}})]),e("div",{staticClass:"type"},[e("button",{staticClass:"loginBtn",on:{click:t.getLogin}},[t._v("登录")]),e("button",{staticClass:"registerBtn",on:{click:t.getRegister}},[t._v("我是新人")])])])},n=[],r=s(2884),l=s(3822);function c(t){let e="";return""==t.username?"用户名不能为空":""==t.password?"密码不能为空":""==t.repassword?"重复密码不能为空":t.password!==t.repassword?"两次密码不一致":e}function u(t){let e="";return""==t.email?"邮箱不能为空":e}function d(t){let e="";return""==t.username?"用户名不能为空":""==t.password?"密码不能为空":""==t.repassword?"重复密码不能为空":t.password!==t.repassword?"两次密码不一致":""==t.email?"邮箱不能为空":""==t.code?"验证码不能为空":e}function m(t){let e="";return""==t.email?"邮箱不能为空":""==t.code?"验证码不能为空":e}var h={data(){return{username:"",password:"",repassword:""}},computed:{...(0,l.rn)(["userStatus"])},methods:{...(0,l.OI)(["updateUserStatus","updateUserInfo"]),async getLogin(){console.log(this.username);let t={username:this.username,password:this.password,repassword:this.repassword},e=c(t);if(""!=e)return alert(e);let s=await(0,r.R9)(t);if(console.log(s),s.data.data.token){let t=s.data.data.token;localStorage.setItem("token",t);let e=s.data.data.userInfo;this.updateUserInfo(e),this.updateUserStatus(3)}else alert(s.data.msg)},getRegister(){this.updateUserStatus(1)},test(){console.log(this.userStatus)}},mounted(){let t=localStorage.getItem("token");t&&this.updateUserStatus(3)}},v=h,g=s(1001),p=(0,g.Z)(v,o,n,!1,null,"3bf73834",null),f=p.exports,w=function(){var t=this,e=t._self._c;return e("div",{staticClass:"register"},[e("h2",[t._v("欢迎你的加入")]),e("div",{staticClass:"user"},[e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-yonghu"}})]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{type:"text",placeholder:"用户名"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),e("div",{staticClass:"password"},[e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-suo"}})]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",placeholder:"密码"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),e("div",{staticClass:"repassword"},[e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-suo"}})]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.repassword,expression:"repassword"}],attrs:{type:"password",placeholder:"确认密码"},domProps:{value:t.repassword},on:{input:function(e){e.target.composing||(t.repassword=e.target.value)}}})]),e("div",{},[e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-youxiang1"}})]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"text",placeholder:"邮箱"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),e("div",{staticClass:"setCodeBtn"},[e("button",{on:{click:t.getCode}},[t._v("发验证码")])]),e("div",{staticClass:"code"},[e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-24gl-envelopeOpen2"}})]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],attrs:{type:"text",placeholder:"验证码"},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}})]),e("div",{staticClass:"type"},[e("button",{staticClass:"loginBtn",on:{click:t.getRegister}},[t._v("注册")]),e("button",{staticClass:"registerBtn",on:{click:t.getLogin}},[t._v("已有账号")])])])},_=[],y={data(){return{username:"",password:"",repassword:"",email:"",haveCode:!1,code:""}},computed:{...(0,l.rn)(["userStatus"])},methods:{...(0,l.OI)(["updateUserStatus"]),async getCode(){alert("发送邮箱验证码中");let t={email:this.email},e=await(0,r.iz)(t);console.log(e)},async getRegister(){let t={username:this.username,password:this.password,repassword:this.repassword,email:this.email,code:this.code},e=d(t);if(""!=e)return alert(e);let s=await(0,r.RQ)(t);console.log(s);let i=s.data.data.token;localStorage.setItem("token",i),this.getLogin()},getLogin(){this.updateUserStatus(0)}},mounted(){}},C=y,k=(0,g.Z)(C,w,_,!1,null,null,null),x=k.exports,N=function(){var t=this,e=t._self._c;return e("div",[t.isChangePassword?t._e():e("div",{staticClass:"retrieve"},[e("h2",[t._v("找回密码")]),e("div",{},[e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-youxiang1"}})]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"text"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),e("div",[e("button",{on:{click:t.getCode}},[t._v("获取验证码")])]),e("div",{},[e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-24gl-envelopeOpen"}})]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],attrs:{type:"text"},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}})]),e("div",{staticClass:"type"},[e("button",{staticClass:"loginBtn",on:{click:t.getSend}},[t._v("发送 ")]),e("button",{staticClass:"registerBtn",on:{click:t.getRegister}},[t._v("我是新人")])])]),t.isChangePassword?e("div",{staticClass:"retrieve"},[e("h2",[t._v("重置密码")]),e("div",{},[e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-yonghu"}})]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{type:"text",placeholder:"用户名"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),e("div",{},[e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-suo"}})]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"text",placeholder:"密码"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),e("div",{},[e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-suo"}})]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.repassword,expression:"repassword"}],attrs:{type:"text",placeholder:"重复密码"},domProps:{value:t.repassword},on:{input:function(e){e.target.composing||(t.repassword=e.target.value)}}})]),e("div",{staticClass:"type"},[e("button",{staticClass:"loginBtn",on:{click:t.goChangePassword}},[t._v("发送 ")]),e("button",{staticClass:"registerBtn",on:{click:t.getRegister}},[t._v("我是新人")])])]):t._e()])},L=[],S={data(){return{email:"",isSend:!1,code:"",isChangePassword:!1,username:"",password:"",repassword:""}},computed:{...(0,l.rn)(["userStatus"])},methods:{...(0,l.OI)(["updateUserStatus"]),async goChangePassword(){alert(666);let t={username:this.username,password:this.password,repassword:this.repassword},e=await(0,r.od)(t);console.log(e)},getRegister(){this.updateUserStatus(1)},async getCode(){let t={email:this.email},e=u(t);if(""!=e)return alert(e);let s=await(0,r.iz)(t);console.log(s)},async getSend(){let t={email:this.email,code:this.code},e=m(t);if(""!=e)return alert(e);this.isChangePassword=!0;let s=await(0,r.o0)(t);console.log(s)}},mounted(){}},I=S,b=(0,g.Z)(I,N,L,!1,null,null,null),P=b.exports,U=function(){var t=this,e=t._self._c;return e("div",{staticClass:"userMsg"},[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.isChange,expression:"!isChange"}]},[e("div",{staticClass:"avatar"},[e("img",{attrs:{src:t.url,alt:""}})]),e("div",{staticClass:"username"},[t._v("您好！"+t._s(t.username))]),e("div",[e("span",[t._v("年龄："+t._s(t.age))])]),e("div",[e("span",[t._v("性别："+t._s(t.judgeSex(t.sex)))])]),e("div",{staticClass:"changeBtn"},[e("button",{on:{click:t.changeBtn}},[t._v("修改用户信息")])]),e("div",[e("a",{attrs:{href:"javascript:;"},on:{click:t.logOut}},[t._v("退出登录")])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isChange,expression:"isChange"}],staticClass:"changeMsg"},[e("div",{staticClass:"changeAvatar"},[e("img",{attrs:{src:t.url,alt:""}}),e("input",{ref:"avatar",staticClass:"selectAvatar",attrs:{type:"file"},on:{change:t.changeAvatar}}),e("div",{staticClass:"selectIcon",on:{click:t.goSelectAvartar}},[e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-jia"}})])])]),e("div",[e("span",[t._v("年龄")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.age,expression:"age"}],attrs:{type:"text"},domProps:{value:t.age},on:{input:function(e){e.target.composing||(t.age=e.target.value)}}})]),e("div",[e("span",[t._v("性别")]),t._v(" 保密"),e("input",{directives:[{name:"model",rawName:"v-model",value:t.sex,expression:"sex"}],attrs:{type:"radio",name:"sex",value:"0"},domProps:{checked:t._q(t.sex,"0")},on:{change:function(e){t.sex="0"}}}),t._v(" 男"),e("input",{directives:[{name:"model",rawName:"v-model",value:t.sex,expression:"sex"}],attrs:{type:"radio",name:"sex",value:"1"},domProps:{checked:t._q(t.sex,"1")},on:{change:function(e){t.sex="1"}}}),t._v(" 女"),e("input",{directives:[{name:"model",rawName:"v-model",value:t.sex,expression:"sex"}],attrs:{type:"radio",name:"sex",value:"2"},domProps:{checked:t._q(t.sex,"2")},on:{change:function(e){t.sex="2"}}})]),e("div",[e("span",[t._v(" 用户名")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{type:"text"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),e("div",{staticClass:"changeBox"},[e("button",{on:{click:t.changeUserInfo}},[t._v("修改用户信息")]),e("button",{staticClass:"unmodifyBtn",on:{click:t.unmodify}},[t._v("取消修改")])])])])},D=[],B={data(){return{token:"",username:"www",age:"18",sex:"0",url:"",isChange:!1,usericon:""}},methods:{...(0,l.OI)(["updateUserStatus","updateUserInfo"]),judgeSex(t){return 0==t?"保密":1==t?"男":"女"},goSelectAvartar(){this.$refs.avatar.click()},unmodify(){this.isChange=!1},logOut(){window.confirm("确认退出吗")&&(console.log("退出测试"),this.updateUserStatus(0),localStorage.clear("token"))},changeBtn(){this.isChange=!0},async changeAvatar(){console.log("改变"),console.log(this.$refs.avatar.files);let t=localStorage.getItem("token");var e=this.$refs.avatar.files[0];console.log(e);let s={type:"1",file:e},i=await(0,r.jO)(s,t);console.log(i);let a=i.data.data.url;this.usericon=a,this.url=this.baseUrl+a,console.log(this.url)},async changeUserInfo(){let t={username:this.username,age:this.age+"",sex:this.sex+"",url:this.usericon},e=this.token;console.log(t);let s=await(0,r.Dl)(t,e);console.log(s);let i={username:this.username,age:this.age,sex:this.sex,src:this.url};this.updateUserInfo(i),this.isChange=!1}},computed:{...(0,l.rn)(["baseUrl","userInfo"])},async mounted(){this.token=localStorage.getItem("token");let t=this.token,e=await(0,r.Kb)(t);console.log(e);let s=e.data.data;this.age=s.age,this.sex=s.sex,this.url=this.baseUrl+s.usericon,console.log(this.url),this.username=s.username,console.log(s,this.url);let i={src:this.url,username:s.username};this.updateUserInfo(i)}},M=B,T=(0,g.Z)(M,U,D,!1,null,"3f471f10",null),Z=T.exports,R={components:{login:f,register:x,retrieve:P,userMsg:Z},data(){return{}},methods:{...(0,l.OI)(["updateUserStatus"]),forgetPassword(){this.updateUserStatus(2)}},computed:{...(0,l.rn)(["userStatus"])},mounted(){console.log(this.userStatus)}},$=R,O=(0,g.Z)($,i,a,!1,null,null,null),j=O.exports},1441:function(t,e,s){function i(t){let e="";return""==t.title?"标题不能为空":""==t.content?"文章不能为空":e}s.d(e,{Z:function(){return i}})}}]);
//# sourceMappingURL=about.58714980.js.map